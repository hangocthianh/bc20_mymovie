{"version":3,"file":"static/js/213.f268a1c9.chunk.js","mappings":"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","sources":["containers/HomeTemplate/BookTicket/_components/InfoTicket/index.js","containers/HomeTemplate/BookTicket/modules/actions.js","containers/HomeTemplate/BookTicket/_components/Seats/index.js","containers/HomeTemplate/BookTicket/index.js"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport \"../../style.css\"\n\nexport default function InfoTicket(props) {\n    const { data } = props;\n    const listCheckedSeat = useSelector(state => state.bookTicketReducer.listCheckedSeat);\n\n    return (\n        <table className=\"table\" >\n                <thead className=\"h4 thead-dark\">\n                    <tr >\n                        <th>Tên phim</th>\n                        <th>{data && data.tenPhim}</th>\n                    </tr>\n                </thead>\n                <tbody className=\"infoTicket\">\n                    <tr>\n                        <th>Rạp</th>\n                        <td>{data && data.tenCumRap} - {data && data.tenRap}</td>\n                    </tr>\n                    <tr>\n\n                        <th>Suất chiếu</th>\n                        <td>{data && data.gioChieu} - {data && data.ngayChieu}</td>\n                    </tr>\n                    <tr>\n                        <th>Số ghế</th>\n                        <td>\n                            {listCheckedSeat.map((seat, index) => {\n                                return (\n                                    <span key={index}>{seat.tenGhe}: {seat.giaVe}VND, </span>\n                                );\n                            })}\n                        </td>\n                    </tr>\n                </tbody>\n                <tfoot className=\"h5\">\n                    <tr>\n                        <td>Tổng tiền</td>\n                        <td>{listCheckedSeat.reduce((total, checkedSeat) => { return total += checkedSeat.giaVe }, 0)} VND</td>\n                    </tr>\n                </tfoot>\n            </table>\n    );\n}\n","import api from \"utils/apiUtils\";\nimport *as ActionType from \"./constants\";\n\n\n// lấy danh sách phòng vé\nexport const actFetchBookingList = (maLichChieu) => {\n    return (dispatch) => {\n        dispatch(actBookingListRequest());\n            api\n                .get(`QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`)\n                .then((result) => {\n                    dispatch(actBookingListSuccess(result.data.content))\n                })\n                .catch((error) => {\n                    dispatch(actBookingListFailed(error))\n                })\n    }\n}\nconst actBookingListRequest = () => {\n    return {\n        type: ActionType.BOOKING_LIST_REQUEST,\n    }\n}\nconst actBookingListSuccess = (data) => {\n    return {\n        type: ActionType.BOOKING_LIST_SUCCESS,\n        payload: data,\n    }\n}\nconst actBookingListFailed = (error) => {\n    return {\n        type: ActionType.BOOKING_LIST_FAILED,\n        payload: error,\n    }\n}\n\n// chọn ghế đặt\nexport const actCheckedSeat =(seat)=>{\n    return{\n        type: ActionType.CHECKED_SEAT,\n        payload: seat,\n    }\n}\n\n// đặt vé\nexport const actBookTicket = (ticket) => {\n    return (dispatch) => {\n        dispatch(actBookTicketRequest());\n            api\n                .post('QuanLyDatVe/DatVe',ticket)\n                .then((result) => {\n                    dispatch(actBookTicketSuccess(result.data.content))\n                })\n                .catch((error) => {\n                    dispatch(actBookTicketFailed(error))\n                })\n    }\n}\nconst actBookTicketRequest = () => {\n    return {\n        type: ActionType.BOOK_TICKET_REQUEST,\n    }\n}\nconst actBookTicketSuccess = (data) => {\n    return {\n        type: ActionType.BOOK_TICKET_SUCCESS,\n        payload: data,\n    }\n}\nconst actBookTicketFailed = (error) => {\n    return {\n        type: ActionType.BOOK_TICKET_FAILED,\n        payload: error,\n    }\n}\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport '../../style.css'\nimport { actCheckedSeat } from '../../modules/actions';\n\nexport default function Seats(props) {\n\n    const { seat } = props;\n    let classVipSeat = seat.loaiGhe === 'Vip' ? 'seatVip' : '';\n    let classOccupiedSeat = seat.daDat === true ? 'occupiedSeat' : '';\n    const listCheckedSeat = useSelector(state => state.bookTicketReducer.listCheckedSeat);\n    const dispatch = useDispatch();\n    let classCheckedSeat = '';\n    let indexCheckedSeat = listCheckedSeat.findIndex(checkedSeat => checkedSeat.tenGhe === seat.tenGhe);\n    if (indexCheckedSeat !== -1) {\n        classCheckedSeat = 'checkedSeat';\n    }\n\n    return (\n        <>\n            <button\n                onClick={()=>{\n                    dispatch(actCheckedSeat(seat))\n                }}\n                disabled={seat.daDat}\n                className={`buttonSeat seat ${classVipSeat} ${classOccupiedSeat} ${classCheckedSeat}`}>\n                {seat.daDat ? 'x' : seat.stt}\n            </button>\n            {seat.stt % 16 === 0 ? <br /> : ''}\n        </>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Modal, Button } from 'react-bootstrap';\nimport { IoCloseSharp } from \"react-icons/io5\";\n\nimport InfoTicket from './_components/InfoTicket';\nimport Seats from './_components/Seats';\nimport \"./style.css\";\nimport { actFetchBookingList } from './modules/actions';\nimport { actBookTicket } from './modules/actions';\nimport Loading from 'components/Loading';\nimport LoginModal from '../_components/Header/_components/LoginModal';\n\nexport default function BookTicket(props) {\n\n    // lấy danh sách phòng vé\n    const data = useSelector(state => state.bookTicketReducer.dataBookingList);\n    const loading = useSelector(state => state.bookTicketReducer.loadingBookingList);\n    const error = useSelector(state => state.bookTicketReducer.errorBookingList);\n    const dispatch = useDispatch();\n    useEffect(() => {\n        const { maLichChieu } = props.match.params;\n        dispatch(actFetchBookingList(maLichChieu));\n    }, []);\n    // danh sách ghế đang chọn\n    const listCheckedSeat = useSelector(state => state.bookTicketReducer.listCheckedSeat);\n    // \n    const [bookTicket,setBookTicket]= useState({\n        maLichChieu: 0,\n        danhSachVe: [],\n    })\n\n    // render danh sách ghế\n    const renderSeats = () => {\n        return data?.danhSachGhe?.map((seat, index) => {\n            return (\n                <Seats seat={seat} key={index} />\n            )\n        })\n    }\n\n    // Login Modal Toggle\n    const [showLogin, setShowLogin] = useState(false);\n    const handleShowLoginModal = () => setShowLogin(true);\n    const handleCloseLoginModal = () => setShowLogin(false);\n\n    //Modal BookTicket Success\n    const [showBookTicketSuccess, setShowBookTicketSuccess] = useState(false);\n    const handleShowBookTicketSuccess = () => {\n        setBookTicket({\n            maLichChieu: data&&data.thongTinPhim.maLichChieu,\n            danhSachVe: listCheckedSeat,\n        })\n        setShowBookTicketSuccess(true);\n        dispatch(actBookTicket(bookTicket));\n        }\n\n    //Modal choose seat\n    const [showChooseSeat, setShowChooseSeat] = useState(false);\n    const handleShowChooseSeat = () => setShowChooseSeat(true);\n\n    //thông báo đăt vé\n    const notiBookTicket = () => {\n        if (listCheckedSeat.length !== 0) {\n            if (localStorage.getItem(\"UserLogin\")) {\n                handleShowBookTicketSuccess();\n            } else {\n                handleShowLoginModal();\n            }\n        } else {\n            handleShowChooseSeat();\n        }\n    }\n\n    return (\n        (loading)\n            ? <div><Loading /></div>\n            : (error)\n                ? <div className='text-danger m-5'>Dự liệu không tồn tại. Vui lòng trở lại trang chủ!!!!!</div>\n                : <div className=\"bookingTicket\">\n                    <div className=\"container pt-5\">\n                        <h2 className='h2 border-bottom border-light pb-3 px-5'>ĐẶT VÉ XEM PHIM: {data && data.thongTinPhim.tenPhim}</h2>\n                        <div className=\"row mt-5 \">\n                            <div className=\"col-lg-7 chooseSeat\">\n                                <div className=\"d-flex align-items-center flex-column rowSeat\">\n                                    <div className=\"screen mb-5\">\n                                        <h3>Màn hình</h3>\n                                    </div>\n                                    <div className='container'>\n                                        {renderSeats()}\n                                    </div>\n                                    <div className='row noteSeat'>\n                                        <div className='col-sm-6 d-flex'>\n                                            <button className=\"buttonSeat seat mr-2\"></button>\n                                            <p>ghế thường</p>\n                                        </div>\n                                        <div className='col-sm-6 d-flex'>\n                                            <button className=\"buttonSeat seatVip mr-2\"></button>\n                                            <p>ghế Vip</p>\n                                        </div>\n                                        <div className='col-sm-6 d-flex'>\n                                            <button className=\"buttonSeat checkedSeat mr-2\"></button><p>ghế đang chọn</p>\n                                        </div>\n                                        <div className='col-sm-6 d-flex'>\n                                            <button className=\"buttonSeat occupiedSeat mr-2\"></button><p>ghế đã đặt</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"col-lg-5\">\n                                <h3 className=\"text-center mt-5 mt-sm-0\">Thông tin vé</h3>\n                                <div className=\"shadow p-3 mb-5 bg-white rounded mt-4\">\n                                    <InfoTicket data={data && data.thongTinPhim} />\n                                    <div className='text-center'>\n                                        <button className='btn btn-warning px-3'\n                                            onClick={() => {\n                                                notiBookTicket()\n                                            }}\n                                        >Đặt vé</button>\n                                        <LoginModal showLogin={showLogin} handleCloseLoginModal={handleCloseLoginModal} />\n\n                                        {/* Modal BookTicket Success */}\n                                        <Modal show={showBookTicketSuccess} onHide={() => setShowBookTicketSuccess(false)} animation={false}>\n                                            <Modal.Header>\n                                                <Modal.Title></Modal.Title>\n                                                <Button\n                                                    variant=\"secondary\"\n                                                    onClick={() => setShowBookTicketSuccess(false)}\n                                                    style={{ display: 'inherit', alignSelf: 'center' }}\n                                                ><IoCloseSharp size={20} />\n                                                </Button>\n                                            </Modal.Header>\n                                            <Modal.Body>\n                                                <div class=\"alert alert-success mt-2\" role=\"alert\">\n                                                    <strong>ĐẶT VÉ THÀNH CÔNG!</strong>\n                                                </div>\n                                            </Modal.Body>\n                                        </Modal>\n\n                                        {/* Modal choose Seat */}\n                                        <Modal show={showChooseSeat} onHide={() => setShowChooseSeat(false)} animation={false}>\n                                            <Modal.Header>\n                                                <Modal.Title></Modal.Title>\n                                                <Button\n                                                    variant=\"secondary\"\n                                                    onClick={() => setShowChooseSeat(false)}\n                                                    style={{ display: 'inherit', alignSelf: 'center' }}\n                                                ><IoCloseSharp size={20} />\n                                                </Button>\n                                            </Modal.Header>\n                                            <Modal.Body>\n                                                <div class=\"alert alert-danger mt-2\" role=\"alert\">\n                                                    <strong>HÃY CHỌN GHẾ!</strong>\n                                                </div>\n                                            </Modal.Body>\n                                        </Modal>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n    );\n}\n"],"names":["InfoTicket","props","data","listCheckedSeat","useSelector","state","bookTicketReducer","className","tenPhim","tenCumRap","tenRap","gioChieu","ngayChieu","map","seat","index","tenGhe","giaVe","reduce","total","checkedSeat","actBookingListRequest","type","ActionType","actBookingListSuccess","payload","actBookingListFailed","error","actBookTicketRequest","actBookTicketSuccess","actBookTicketFailed","Seats","classVipSeat","loaiGhe","classOccupiedSeat","daDat","dispatch","useDispatch","classCheckedSeat","findIndex","onClick","actCheckedSeat","disabled","stt","BookTicket","dataBookingList","loading","loadingBookingList","errorBookingList","useEffect","maLichChieu","match","params","api","then","result","content","catch","actFetchBookingList","useState","danhSachVe","bookTicket","setBookTicket","showLogin","setShowLogin","showBookTicketSuccess","setShowBookTicketSuccess","handleShowBookTicketSuccess","ticket","thongTinPhim","showChooseSeat","setShowChooseSeat","notiBookTicket","length","localStorage","getItem","Loading","danhSachGhe","renderSeats","LoginModal","handleCloseLoginModal","Modal","show","onHide","animation","Button","variant","style","display","alignSelf","size","class","role"],"sourceRoot":""}