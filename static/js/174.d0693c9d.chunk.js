"use strict";(self.webpackChunkbc20_mymovie=self.webpackChunkbc20_mymovie||[]).push([[174],{77174:function(e,a,i){i.r(a),i.d(a,{default:function(){return Z}});var n=i(70885),s=i(72791),l=i(16030),t=i(91523),c=i(28639),d=i(70745),r=function(){return{type:d.ow}},o=function(e){return{type:d.pJ,payload:e}},h=function(e){return{type:d.IA,payload:e}},m=function(){return{type:d.Fr}},u=function(e){return{type:d.Jp,payload:e}},x=function(e){return{type:d.yG,payload:e}},v=function(){return{type:d.fx}},p=function(e){return{type:d.kM,payload:e}},j=function(e){return{type:d.u6,payload:e}},g=i(1413),f=i(5603),N=i(43360),b=i(40071),y=i(55705),C=i(79174),M=i(72426),F=i.n(M),w=i(80184);function T(e){var a=(0,s.useState)(""),i=(0,n.Z)(a,2),t=i[0],d=i[1],r=e.showAddMovieModal,o=e.handleCloseAddMovieModal,h=(0,l.I0)(),v=(0,y.TA)({initialValues:{tenPhim:"",trailer:"",hinhAnh:{},moTa:"",maNhom:"GP01",ngayKhoiChieu:"",danhGia:0,hot:!1,dangChieu:!1,sapChieu:!1},onSubmit:function(e){console.log(e);var a=new FormData;for(var i in e)"hinhAnh"!==i?a.append(i,e[i]):a.append("File",e.hinhAnh,e.hinhAnh.name);h(function(e){return function(a){a(m()),c.Z.post("QuanLyPhim/ThemPhimUploadHinh",e).then((function(e){alert("Th\xeam phim th\xe0nh c\xf4ng!"),a(u(e.data.content))})).catch((function(e){a(x(e))}))}}(a))}});return(0,w.jsx)(f.Z,{size:"lg",show:r,onHide:o,animation:!1,children:(0,w.jsxs)("form",{onSubmit:v.handleSubmit,className:"needs-validation",id:"movieForm",children:[(0,w.jsxs)(f.Z.Header,{children:[(0,w.jsx)(f.Z.Title,{children:"Th\xeam phim"}),(0,w.jsx)(N.Z,{variant:"secondary",onClick:o,style:{display:"inherit",alignSelf:"center"},children:(0,w.jsx)(b.Lp2,{size:20})})]}),(0,w.jsx)(f.Z.Body,{children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsxs)("div",{className:"col-12 mb-3",children:[(0,w.jsx)("label",{htmlFor:"nameMovie",children:"T\xean phim"}),(0,w.jsx)("input",{type:"text",className:"form-control",id:"nameMovie",name:"tenPhim",placeholder:"Nh\u1eadp t\xean phim",onChange:v.handleChange})]}),(0,w.jsxs)("div",{className:"col-12 mb-3",children:[(0,w.jsx)("label",{htmlFor:"trailer",children:"Trailer"}),(0,w.jsx)("input",{type:"text",className:"form-control",id:"trailer",name:"trailer",placeholder:"Nh\u1eadp trailer",onChange:v.handleChange}),(0,w.jsx)("div",{id:"invalidTrailer",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-12 mb-3",children:[(0,w.jsx)("label",{htmlFor:"desc",children:"M\xf4 T\u1ea3"}),(0,w.jsx)("textarea",{className:"form-control",id:"desc",name:"moTa",rows:3,placeholder:"Nh\u1eadp m\xf4 t\u1ea3",onChange:v.handleChange}),(0,w.jsx)("div",{id:"invalidDesc",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"date",children:"Ng\xe0y kh\u1edfi chi\u1ebfu"}),(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("div",{className:"input-group-prepend",children:(0,w.jsx)("span",{className:"input-group-text",children:(0,w.jsx)("i",{className:"fa fa-calendar"})})}),(0,w.jsx)("input",{type:"date",name:"ngayKhoiChieu",id:"date",className:"form-control",placeholder:"Ng\xe0y c\xf4ng chi\u1ebfu",onChange:function(){var e=new Date(document.getElementById("date").value);console.log(F()(e).format("DD/MM/YYYY")),v.setFieldValue("ngayKhoiChieu",F()(e).format("DD/MM/YYYY"))}})]}),(0,w.jsx)("div",{id:"invalidDate",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"status",children:"T\xecnh tr\u1ea1ng"}),(0,w.jsxs)("select",{className:"custom-select d-block w-100",id:"status",onChange:function(e){"1"===e.target.value?(v.setFieldValue("dangChieu",!0),v.setFieldValue("sapChieu",!1)):"2"===e.target.value&&(v.setFieldValue("dangChieu",!1),v.setFieldValue("sapChieu",!0))},children:[(0,w.jsx)("option",{value:"0",children:"Ch\u1ecdn t\xecnh tr\u1ea1ng"}),(0,w.jsx)("option",{value:"1",children:"\u0110ang chi\u1ebfu"}),(0,w.jsx)("option",{value:"2",children:"S\u1eafp chi\u1ebfu"})]}),(0,w.jsx)("div",{id:"invalidStatus",className:"invalid-feedback"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"score",children:"\u0110i\u1ec3m \u0111\xe1nh gi\xe1"}),(0,w.jsx)("input",{type:"number",className:"form-control",id:"score",name:"danhGia",placeholder:"Nh\u1eadp \u0111i\u1ec3m \u0111\xe1nh gi\xe1",onChange:v.handleChange}),(0,w.jsx)("div",{id:"invalidScore",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"hot",children:"Hot"}),(0,w.jsx)(C.Z,(0,g.Z)((0,g.Z)({onChange:v.handleChange},{inputProps:{"aria-label":"Checkbox demo"}}),{},{id:"hot",name:"hot",sx:{"& .MuiSvgIcon-root":{fontSize:28}}})),(0,w.jsx)("div",{id:"invalidHot",className:"invalid-feedback"})]}),(0,w.jsx)("div",{className:"col-sm-4 mb-3",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)("label",{htmlFor:"img",children:"H\xecnh \u1ea3nh"}),(0,w.jsx)("br",{}),(0,w.jsx)("input",{type:"file",id:"img",name:"hinhAnh",onChange:function(e){var a=e.target.files[0];if("image/jpeg"===a.type||"image/jpg"===a.type||"image/png"===a.type||"image/gif"===a.type){var i=new FileReader;i.readAsDataURL(a),i.onload=function(e){d(e.target.result)},v.setFieldValue("hinhAnh",a)}},accept:"image/jpeg, image/png, image/gif, image/jpg"}),(0,w.jsx)("img",{className:"mt-2",width:100,src:t,alt:t})]})})]})}),(0,w.jsx)(f.Z.Footer,{children:(0,w.jsx)("div",{children:(0,w.jsx)("button",{type:"submit",className:"btn btn-warning",id:"btnAddMovie",children:"Th\xeam"})})})]})})}function A(e){var a=(0,s.useState)(""),i=(0,n.Z)(a,2),t=i[0],d=i[1],r=e.showEditMovieModal,o=e.handleCloseEditMovieModal,h=((0,l.v9)((function(e){return e.movieManagerReducer.dataInfoMovie})),(0,l.v9)((function(e){return e.movieManagerReducer.loadingInfoMovie})),(0,l.v9)((function(e){return e.movieManagerReducer.errorInfoMovie})),(0,l.I0)());(0,s.useEffect)((function(){var a,i=e.id;console.log(i),h((a=i,function(e){e(v()),c.Z.get("QuanLyPhim/LayThongTinPhim?MaPhim=".concat(a)).then((function(a){e(p(a.data.content))})).catch((function(a){var i;e(j(a)),console.log(null===(i=a.response)||void 0===i?void 0:i.data)}))}))}),[]);var m=(0,y.TA)({initialValues:{tenPhim:"",trailer:"",hinhAnh:{},moTa:"",maNhom:"GP01",ngayKhoiChieu:"",danhGia:0,hot:!1,dangChieu:!1,sapChieu:!1},onSubmit:function(e){console.log(e);var a=new FormData;for(var i in e)"hinhAnh"!==i?a.append(i,e[i]):a.append("File",e.hinhAnh,e.hinhAnh.name)}});return(0,w.jsx)(f.Z,{size:"lg",show:r,onHide:o,animation:!1,children:(0,w.jsxs)("form",{onSubmit:m.handleSubmit,className:"needs-validation",id:"movieForm",children:[(0,w.jsxs)(f.Z.Header,{children:[(0,w.jsx)(f.Z.Title,{children:"Ch\u1ec9nh s\u1eeda th\xf4ng tin"}),(0,w.jsx)(N.Z,{variant:"secondary",onClick:o,style:{display:"inherit",alignSelf:"center"},children:(0,w.jsx)(b.Lp2,{size:20})})]}),(0,w.jsx)(f.Z.Body,{children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsxs)("div",{className:"col-12 mb-3",children:[(0,w.jsx)("label",{htmlFor:"nameMovie",children:"T\xean phim"}),(0,w.jsx)("input",{type:"text",className:"form-control",id:"nameMovie",name:"tenPhim",placeholder:"Nh\u1eadp t\xean phim",onChange:m.handleChange}),(0,w.jsx)("div",{id:"invalidName",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-12 mb-3",children:[(0,w.jsx)("label",{htmlFor:"trailer",children:"Trailer"}),(0,w.jsx)("input",{type:"text",className:"form-control",id:"trailer",name:"trailer",placeholder:"Nh\u1eadp trailer",onChange:m.handleChange}),(0,w.jsx)("div",{id:"invalidTrailer",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-12 mb-3",children:[(0,w.jsx)("label",{htmlFor:"desc",children:"M\xf4 T\u1ea3"}),(0,w.jsx)("textarea",{className:"form-control",id:"desc",name:"moTa",rows:3,placeholder:"Nh\u1eadp m\xf4 t\u1ea3",onChange:m.handleChange}),(0,w.jsx)("div",{id:"invalidDesc",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"date",children:"Ng\xe0y kh\u1edfi chi\u1ebfu"}),(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("div",{className:"input-group-prepend",children:(0,w.jsx)("span",{className:"input-group-text",children:(0,w.jsx)("i",{className:"fa fa-calendar"})})}),(0,w.jsx)("input",{type:"date",name:"ngayKhoiChieu",id:"date",className:"form-control",placeholder:"Ng\xe0y c\xf4ng chi\u1ebfu",onChange:function(){var e=new Date(document.getElementById("date").value);console.log(F()(e).format("DD/MM/YYYY")),m.setFieldValue("ngayKhoiChieu",F()(e).format("DD/MM/YYYY"))}})]}),(0,w.jsx)("div",{id:"invalidDate",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"status",children:"T\xecnh tr\u1ea1ng"}),(0,w.jsxs)("select",{className:"custom-select d-block w-100",id:"status",onChange:function(e){"1"===e.target.value?(m.setFieldValue("dangChieu",!0),m.setFieldValue("sapChieu",!1)):"2"===e.target.value&&(m.setFieldValue("dangChieu",!1),m.setFieldValue("sapChieu",!0))},children:[(0,w.jsx)("option",{value:"0",children:"Ch\u1ecdn t\xecnh tr\u1ea1ng"}),(0,w.jsx)("option",{value:"1",children:"\u0110ang chi\u1ebfu"}),(0,w.jsx)("option",{value:"2",children:"S\u1eafp chi\u1ebfu"})]}),(0,w.jsx)("div",{id:"invalidStatus",className:"invalid-feedback"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"score",children:"\u0110i\u1ec3m \u0111\xe1nh gi\xe1"}),(0,w.jsx)("input",{type:"number",className:"form-control",id:"score",name:"danhGia",placeholder:"Nh\u1eadp \u0111i\u1ec3m \u0111\xe1nh gi\xe1",onChange:m.handleChange}),(0,w.jsx)("div",{id:"invalidScore",className:"invalid-form"})]}),(0,w.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,w.jsx)("label",{htmlFor:"hot",children:"Hot"}),(0,w.jsx)(C.Z,(0,g.Z)((0,g.Z)({onChange:m.handleChange},{inputProps:{"aria-label":"Checkbox demo"}}),{},{id:"hot",name:"hot",sx:{"& .MuiSvgIcon-root":{fontSize:28}}})),(0,w.jsx)("div",{id:"invalidHot",className:"invalid-feedback"})]}),(0,w.jsx)("div",{className:"col-sm-4 mb-3",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)("label",{htmlFor:"img",children:"H\xecnh \u1ea3nh"}),(0,w.jsx)("br",{}),(0,w.jsx)("input",{type:"file",id:"img",name:"hinhAnh",onChange:function(e){var a=e.target.files[0];if("image/jpeg"===a.type||"image/jpg"===a.type||"image/png"===a.type||"image/gif"===a.type){var i=new FileReader;i.readAsDataURL(a),i.onload=function(e){d(e.target.result)},m.setFieldValue("hinhAnh",a)}},accept:"image/jpeg, image/png, image/gif, image/jpg"}),(0,w.jsx)("img",{className:"mt-2",width:100,src:t,alt:t})]})})]})}),(0,w.jsx)(f.Z.Footer,{children:(0,w.jsx)("div",{children:(0,w.jsx)("button",{type:"submit",className:"btn btn-warning",id:"btnAddMovie",children:"C\u1eadp nh\u1eadt"})})})]})})}function k(e){var a=e.movie,i=(0,s.useState)(!1),l=(0,n.Z)(i,2),t=l[0],c=l[1];return(0,w.jsxs)("tr",{className:"text-center mt-5 listMovie",children:[(0,w.jsx)("td",{children:a.maPhim}),(0,w.jsx)("td",{children:a.tenPhim}),(0,w.jsx)("td",{children:(0,w.jsx)("img",{className:"w-25",src:a.hinhAnh,alt:a.hinhAnh})}),(0,w.jsx)("td",{children:(0,w.jsx)("p",{className:"descMovie",children:a.moTa})}),(0,w.jsxs)("td",{className:"w-25",children:[(0,w.jsx)("button",{className:"btn btn-info mr-3 mt-1",onClick:function(){c(!0)},children:"Edit"}),(0,w.jsx)(A,{id:a.maPhim,showEditMovieModal:t,handleCloseEditMovieModal:function(){return c(!1)}}),(0,w.jsx)("button",{className:"btn btn-danger mt-1",children:"Delete"})]})]})}function Z(){var e=(0,l.v9)((function(e){return e.movieManagerReducer.data})),a=(0,l.I0)();(0,s.useEffect)((function(){a((function(e){e(r()),c.Z.get("QuanLyPhim/LayDanhSachPhim?maNhom=GP01").then((function(a){e(o(a.data.content))})).catch((function(a){e(h(a))}))}))}),[]);var i=(0,s.useState)(!1),d=(0,n.Z)(i,2),m=d[0],u=d[1];return(0,w.jsxs)("div",{className:"container-fluid",children:[(0,w.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:(0,w.jsx)("div",{className:"sidebar-sticky pt-3",children:(0,w.jsxs)("ul",{className:"nav flex-column",children:[(0,w.jsx)("li",{className:"nav-item",children:(0,w.jsxs)(t.OL,{activeClassName:"active",className:"nav-link",to:"/dashboard",children:[(0,w.jsx)("i",{className:"fa fa-home mr-1"}),"Dashboard ",(0,w.jsx)("span",{className:"sr-only",children:"(current)"})]})}),(0,w.jsx)("li",{className:"nav-item",children:(0,w.jsxs)(t.OL,{activeClassName:"active",className:"nav-link",to:"/movie-manager",children:[(0,w.jsx)("i",{className:"fa fa-film mr-1"}),"Movies List"]})}),(0,w.jsx)("li",{className:"nav-item",children:(0,w.jsxs)(t.OL,{activeClassName:"active",className:"nav-link",to:"/user-list",children:[(0,w.jsx)("i",{className:"fa fa-user mr-1"}),"Users List"]})})]})})}),(0,w.jsxs)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4",children:[(0,w.jsx)("h2",{className:"my-3",children:"Danh S\xe1ch Phim"}),(0,w.jsxs)("div",{className:"row",children:[(0,w.jsxs)("div",{className:"col-8",children:[(0,w.jsx)("button",{id:"btnAdd",type:"button",className:"btn btn-warning mb-3",onClick:function(){u(!0)},children:"Th\xeam Phim"}),(0,w.jsx)(T,{showAddMovieModal:m,handleCloseAddMovieModal:function(){return u(!1)}})]}),(0,w.jsx)("div",{className:"col-4",children:(0,w.jsxs)("div",{className:"form-group row",children:[(0,w.jsx)("label",{htmlFor:"tenPhim",className:" col-form-label",children:"T\xecm ki\u1ebfm"}),(0,w.jsx)("div",{className:"col-sm-9",children:(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("input",{type:"text",className:"form-control",placeholder:"T\xean phim",id:"searchName"}),(0,w.jsx)("div",{className:"input-group-prepend",children:(0,w.jsx)("span",{className:"input-group-text",id:"btnTimNV",children:(0,w.jsx)("i",{className:"fa fa-search"})})})]})})]})})]}),(0,w.jsx)("div",{className:"table-responsive table-striped moviesTable",children:(0,w.jsxs)("table",{className:"table table-striped table-sm",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:"bg-warning text-white text-center",children:[(0,w.jsx)("th",{children:"M\xe3"}),(0,w.jsx)("th",{children:"T\xean phim"}),(0,w.jsx)("th",{children:"H\xecnh \u1ea3nh"}),(0,w.jsx)("th",{children:"M\xf4 t\u1ea3"}),(0,w.jsx)("th",{children:"T\xf9y ch\u1ec9nh"})]})}),(0,w.jsx)("tbody",{id:"tbodyMovies",children:null===e||void 0===e?void 0:e.map((function(e,a){return(0,w.jsx)(k,{movie:e},a)}))})]})})]})]})}}}]);
//# sourceMappingURL=174.d0693c9d.chunk.js.map