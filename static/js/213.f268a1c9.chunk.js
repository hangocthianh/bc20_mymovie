"use strict";(self.webpackChunkbc20_mymovie=self.webpackChunkbc20_mymovie||[]).push([[213],{92213:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var i=t(70885),s=t(72791),c=t(16030),a=t(5603),r=t(43360),l=t(40071),d=t(80184);function o(e){var n=e.data,t=(0,c.v9)((function(e){return e.bookTicketReducer.listCheckedSeat}));return(0,d.jsxs)("table",{className:"table",children:[(0,d.jsx)("thead",{className:"h4 thead-dark",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"T\xean phim"}),(0,d.jsx)("th",{children:n&&n.tenPhim})]})}),(0,d.jsxs)("tbody",{className:"infoTicket",children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"R\u1ea1p"}),(0,d.jsxs)("td",{children:[n&&n.tenCumRap," - ",n&&n.tenRap]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Su\u1ea5t chi\u1ebfu"}),(0,d.jsxs)("td",{children:[n&&n.gioChieu," - ",n&&n.ngayChieu]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"S\u1ed1 gh\u1ebf"}),(0,d.jsx)("td",{children:t.map((function(e,n){return(0,d.jsxs)("span",{children:[e.tenGhe,": ",e.giaVe,"VND, "]},n)}))})]})]}),(0,d.jsx)("tfoot",{className:"h5",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"T\u1ed5ng ti\u1ec1n"}),(0,d.jsxs)("td",{children:[t.reduce((function(e,n){return e+n.giaVe}),0)," VND"]})]})})]})}var h=t(28639),u=t(76699),x=function(){return{type:u.nw}},j=function(e){return{type:u.Gx,payload:e}},m=function(e){return{type:u.YW,payload:e}},f=function(){return{type:u.XH}},g=function(e){return{type:u.sY,payload:e}},v=function(e){return{type:u.CX,payload:e}};function p(e){var n=e.seat,t="Vip"===n.loaiGhe?"seatVip":"",i=!0===n.daDat?"occupiedSeat":"",s=(0,c.v9)((function(e){return e.bookTicketReducer.listCheckedSeat})),a=(0,c.I0)(),r="";return-1!==s.findIndex((function(e){return e.tenGhe===n.tenGhe}))&&(r="checkedSeat"),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:function(){a(function(e){return{type:u.Be,payload:e}}(n))},disabled:n.daDat,className:"buttonSeat seat ".concat(t," ").concat(i," ").concat(r),children:n.daDat?"x":n.stt}),n.stt%16===0?(0,d.jsx)("br",{}):""]})}var b=t(75710),k=t(15868);function N(e){var n=(0,c.v9)((function(e){return e.bookTicketReducer.dataBookingList})),t=(0,c.v9)((function(e){return e.bookTicketReducer.loadingBookingList})),u=(0,c.v9)((function(e){return e.bookTicketReducer.errorBookingList})),N=(0,c.I0)();(0,s.useEffect)((function(){var n=e.match.params.maLichChieu;N(function(e){return function(n){n(x()),h.Z.get("QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=".concat(e)).then((function(e){n(j(e.data.content))})).catch((function(e){n(m(e))}))}}(n))}),[]);var S=(0,c.v9)((function(e){return e.bookTicketReducer.listCheckedSeat})),y=(0,s.useState)({maLichChieu:0,danhSachVe:[]}),C=(0,i.Z)(y,2),T=C[0],Z=C[1],V=(0,s.useState)(!1),L=(0,i.Z)(V,2),w=L[0],H=L[1],D=(0,s.useState)(!1),R=(0,i.Z)(D,2),G=R[0],P=R[1],B=function(){var e;Z({maLichChieu:n&&n.thongTinPhim.maLichChieu,danhSachVe:S}),P(!0),N((e=T,function(n){n(f()),h.Z.post("QuanLyDatVe/DatVe",e).then((function(e){n(g(e.data.content))})).catch((function(e){n(v(e))}))}))},I=(0,s.useState)(!1),M=(0,i.Z)(I,2),X=M[0],Y=M[1],z=function(){0!==S.length?localStorage.getItem("UserLogin")?B():H(!0):Y(!0)};return t?(0,d.jsx)("div",{children:(0,d.jsx)(b.Z,{})}):u?(0,d.jsx)("div",{className:"text-danger m-5",children:"D\u1ef1 li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i. Vui l\xf2ng tr\u1edf l\u1ea1i trang ch\u1ee7!!!!!"}):(0,d.jsx)("div",{className:"bookingTicket",children:(0,d.jsxs)("div",{className:"container pt-5",children:[(0,d.jsxs)("h2",{className:"h2 border-bottom border-light pb-3 px-5",children:["\u0110\u1eb6T V\xc9 XEM PHIM: ",n&&n.thongTinPhim.tenPhim]}),(0,d.jsxs)("div",{className:"row mt-5 ",children:[(0,d.jsx)("div",{className:"col-lg-7 chooseSeat",children:(0,d.jsxs)("div",{className:"d-flex align-items-center flex-column rowSeat",children:[(0,d.jsx)("div",{className:"screen mb-5",children:(0,d.jsx)("h3",{children:"M\xe0n h\xecnh"})}),(0,d.jsx)("div",{className:"container",children:function(){var e;return null===n||void 0===n||null===(e=n.danhSachGhe)||void 0===e?void 0:e.map((function(e,n){return(0,d.jsx)(p,{seat:e},n)}))}()}),(0,d.jsxs)("div",{className:"row noteSeat",children:[(0,d.jsxs)("div",{className:"col-sm-6 d-flex",children:[(0,d.jsx)("button",{className:"buttonSeat seat mr-2"}),(0,d.jsx)("p",{children:"gh\u1ebf th\u01b0\u1eddng"})]}),(0,d.jsxs)("div",{className:"col-sm-6 d-flex",children:[(0,d.jsx)("button",{className:"buttonSeat seatVip mr-2"}),(0,d.jsx)("p",{children:"gh\u1ebf Vip"})]}),(0,d.jsxs)("div",{className:"col-sm-6 d-flex",children:[(0,d.jsx)("button",{className:"buttonSeat checkedSeat mr-2"}),(0,d.jsx)("p",{children:"gh\u1ebf \u0111ang ch\u1ecdn"})]}),(0,d.jsxs)("div",{className:"col-sm-6 d-flex",children:[(0,d.jsx)("button",{className:"buttonSeat occupiedSeat mr-2"}),(0,d.jsx)("p",{children:"gh\u1ebf \u0111\xe3 \u0111\u1eb7t"})]})]})]})}),(0,d.jsxs)("div",{className:"col-lg-5",children:[(0,d.jsx)("h3",{className:"text-center mt-5 mt-sm-0",children:"Th\xf4ng tin v\xe9"}),(0,d.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded mt-4",children:[(0,d.jsx)(o,{data:n&&n.thongTinPhim}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("button",{className:"btn btn-warning px-3",onClick:function(){z()},children:"\u0110\u1eb7t v\xe9"}),(0,d.jsx)(k.Z,{showLogin:w,handleCloseLoginModal:function(){return H(!1)}}),(0,d.jsxs)(a.Z,{show:G,onHide:function(){return P(!1)},animation:!1,children:[(0,d.jsxs)(a.Z.Header,{children:[(0,d.jsx)(a.Z.Title,{}),(0,d.jsx)(r.Z,{variant:"secondary",onClick:function(){return P(!1)},style:{display:"inherit",alignSelf:"center"},children:(0,d.jsx)(l.Lp2,{size:20})})]}),(0,d.jsx)(a.Z.Body,{children:(0,d.jsx)("div",{class:"alert alert-success mt-2",role:"alert",children:(0,d.jsx)("strong",{children:"\u0110\u1eb6T V\xc9 TH\xc0NH C\xd4NG!"})})})]}),(0,d.jsxs)(a.Z,{show:X,onHide:function(){return Y(!1)},animation:!1,children:[(0,d.jsxs)(a.Z.Header,{children:[(0,d.jsx)(a.Z.Title,{}),(0,d.jsx)(r.Z,{variant:"secondary",onClick:function(){return Y(!1)},style:{display:"inherit",alignSelf:"center"},children:(0,d.jsx)(l.Lp2,{size:20})})]}),(0,d.jsx)(a.Z.Body,{children:(0,d.jsx)("div",{class:"alert alert-danger mt-2",role:"alert",children:(0,d.jsx)("strong",{children:"H\xc3Y CH\u1eccN GH\u1ebe!"})})})]})]})]})]})]})]})})}}}]);
//# sourceMappingURL=213.f268a1c9.chunk.js.map