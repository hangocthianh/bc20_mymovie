"use strict";(self.webpackChunkbc20_mymovie=self.webpackChunkbc20_mymovie||[]).push([[174],{77174:function(e,n,a){a.r(n),a.d(n,{default:function(){return Z}});var i=a(70885),l=a(72791),s=a(16030),t=a(28639),o=a(70745),d=function(){return{type:o.ow}},r=function(e){return{type:o.pJ,payload:e}},c=function(e){return{type:o.IA,payload:e}},h=function(){return{type:o.Fr}},m=function(e){return{type:o.Jp,payload:e}},u=function(e){return{type:o.yG,payload:e}},p=function(){return{type:o.fx}},x=function(e){return{type:o.kM,payload:e}},v=function(e){return{type:o.u6,payload:e}},j=a(1413),g=a(5603),f=a(43360),N=a(40071),b=a(55705),y=a(79174),C=a(72426),M=a.n(C),F=a(80184);function w(e){var n=(0,l.useState)(""),a=(0,i.Z)(n,2),o=a[0],d=a[1],r=e.showAddMovieModal,c=e.handleCloseAddMovieModal,p=(0,s.I0)(),x=(0,b.TA)({initialValues:{tenPhim:"",trailer:"",hinhAnh:{},moTa:"",maNhom:"GP01",ngayKhoiChieu:"",danhGia:0,hot:!1,dangChieu:!1,sapChieu:!1},onSubmit:function(e){console.log(e);var n=new FormData;for(var a in e)"hinhAnh"!==a?n.append(a,e[a]):n.append("File",e.hinhAnh,e.hinhAnh.name);p(function(e){return function(n){n(h()),t.Z.post("QuanLyPhim/ThemPhimUploadHinh",e).then((function(e){alert("Th\xeam phim th\xe0nh c\xf4ng!"),n(m(e.data.content))})).catch((function(e){n(u(e))}))}}(n))}});return(0,F.jsx)(g.Z,{size:"lg",show:r,onHide:c,animation:!1,children:(0,F.jsxs)("form",{onSubmit:x.handleSubmit,className:"needs-validation",id:"movieForm",children:[(0,F.jsxs)(g.Z.Header,{children:[(0,F.jsx)(g.Z.Title,{children:"Th\xeam phim"}),(0,F.jsx)(f.Z,{variant:"secondary",onClick:c,style:{display:"inherit",alignSelf:"center"},children:(0,F.jsx)(N.Lp2,{size:20})})]}),(0,F.jsx)(g.Z.Body,{children:(0,F.jsxs)("div",{className:"row",children:[(0,F.jsxs)("div",{className:"col-12 mb-3",children:[(0,F.jsx)("label",{htmlFor:"nameMovie",children:"T\xean phim"}),(0,F.jsx)("input",{type:"text",className:"form-control",id:"nameMovie",name:"tenPhim",placeholder:"Nh\u1eadp t\xean phim",onChange:x.handleChange})]}),(0,F.jsxs)("div",{className:"col-12 mb-3",children:[(0,F.jsx)("label",{htmlFor:"trailer",children:"Trailer"}),(0,F.jsx)("input",{type:"text",className:"form-control",id:"trailer",name:"trailer",placeholder:"Nh\u1eadp trailer",onChange:x.handleChange}),(0,F.jsx)("div",{id:"invalidTrailer",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-12 mb-3",children:[(0,F.jsx)("label",{htmlFor:"desc",children:"M\xf4 T\u1ea3"}),(0,F.jsx)("textarea",{className:"form-control",id:"desc",name:"moTa",rows:3,placeholder:"Nh\u1eadp m\xf4 t\u1ea3",onChange:x.handleChange}),(0,F.jsx)("div",{id:"invalidDesc",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"date",children:"Ng\xe0y kh\u1edfi chi\u1ebfu"}),(0,F.jsxs)("div",{className:"input-group",children:[(0,F.jsx)("div",{className:"input-group-prepend",children:(0,F.jsx)("span",{className:"input-group-text",children:(0,F.jsx)("i",{className:"fa fa-calendar"})})}),(0,F.jsx)("input",{type:"date",name:"ngayKhoiChieu",id:"date",className:"form-control",placeholder:"Ng\xe0y c\xf4ng chi\u1ebfu",onChange:function(){var e=new Date(document.getElementById("date").value);console.log(M()(e).format("DD/MM/YYYY")),x.setFieldValue("ngayKhoiChieu",M()(e).format("DD/MM/YYYY"))}})]}),(0,F.jsx)("div",{id:"invalidDate",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"status",children:"T\xecnh tr\u1ea1ng"}),(0,F.jsxs)("select",{className:"custom-select d-block w-100",id:"status",onChange:function(e){"1"===e.target.value?(x.setFieldValue("dangChieu",!0),x.setFieldValue("sapChieu",!1)):"2"===e.target.value&&(x.setFieldValue("dangChieu",!1),x.setFieldValue("sapChieu",!0))},children:[(0,F.jsx)("option",{value:"0",children:"Ch\u1ecdn t\xecnh tr\u1ea1ng"}),(0,F.jsx)("option",{value:"1",children:"\u0110ang chi\u1ebfu"}),(0,F.jsx)("option",{value:"2",children:"S\u1eafp chi\u1ebfu"})]}),(0,F.jsx)("div",{id:"invalidStatus",className:"invalid-feedback"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"score",children:"\u0110i\u1ec3m \u0111\xe1nh gi\xe1"}),(0,F.jsx)("input",{type:"number",className:"form-control",id:"score",name:"danhGia",placeholder:"Nh\u1eadp \u0111i\u1ec3m \u0111\xe1nh gi\xe1",onChange:x.handleChange}),(0,F.jsx)("div",{id:"invalidScore",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"hot",children:"Hot"}),(0,F.jsx)(y.Z,(0,j.Z)((0,j.Z)({onChange:x.handleChange},{inputProps:{"aria-label":"Checkbox demo"}}),{},{id:"hot",name:"hot",sx:{"& .MuiSvgIcon-root":{fontSize:28}}})),(0,F.jsx)("div",{id:"invalidHot",className:"invalid-feedback"})]}),(0,F.jsx)("div",{className:"col-sm-4 mb-3",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"img",children:"H\xecnh \u1ea3nh"}),(0,F.jsx)("br",{}),(0,F.jsx)("input",{type:"file",id:"img",name:"hinhAnh",onChange:function(e){var n=e.target.files[0];if("image/jpeg"===n.type||"image/jpg"===n.type||"image/png"===n.type||"image/gif"===n.type){var a=new FileReader;a.readAsDataURL(n),a.onload=function(e){d(e.target.result)},x.setFieldValue("hinhAnh",n)}},accept:"image/jpeg, image/png, image/gif, image/jpg"}),(0,F.jsx)("img",{className:"mt-2",width:100,src:o,alt:o})]})})]})}),(0,F.jsx)(g.Z.Footer,{children:(0,F.jsx)("div",{children:(0,F.jsx)("button",{type:"submit",className:"btn btn-warning",id:"btnAddMovie",children:"Th\xeam"})})})]})})}function T(e){var n=(0,l.useState)(""),a=(0,i.Z)(n,2),o=a[0],d=a[1],r=e.showEditMovieModal,c=e.handleCloseEditMovieModal,h=((0,s.v9)((function(e){return e.movieManagerReducer.dataInfoMovie})),(0,s.v9)((function(e){return e.movieManagerReducer.loadingInfoMovie})),(0,s.v9)((function(e){return e.movieManagerReducer.errorInfoMovie})),(0,s.I0)());(0,l.useEffect)((function(){var n,a=e.id;console.log(a),h((n=a,function(e){e(p()),t.Z.get("QuanLyPhim/LayThongTinPhim?MaPhim=".concat(n)).then((function(n){e(x(n.data.content))})).catch((function(n){var a;e(v(n)),console.log(null===(a=n.response)||void 0===a?void 0:a.data)}))}))}),[]);var m=(0,b.TA)({initialValues:{tenPhim:"",trailer:"",hinhAnh:{},moTa:"",maNhom:"GP01",ngayKhoiChieu:"",danhGia:0,hot:!1,dangChieu:!1,sapChieu:!1},onSubmit:function(e){console.log(e);var n=new FormData;for(var a in e)"hinhAnh"!==a?n.append(a,e[a]):n.append("File",e.hinhAnh,e.hinhAnh.name)}});return(0,F.jsx)(g.Z,{size:"lg",show:r,onHide:c,animation:!1,children:(0,F.jsxs)("form",{onSubmit:m.handleSubmit,className:"needs-validation",id:"movieForm",children:[(0,F.jsxs)(g.Z.Header,{children:[(0,F.jsx)(g.Z.Title,{children:"Ch\u1ec9nh s\u1eeda th\xf4ng tin"}),(0,F.jsx)(f.Z,{variant:"secondary",onClick:c,style:{display:"inherit",alignSelf:"center"},children:(0,F.jsx)(N.Lp2,{size:20})})]}),(0,F.jsx)(g.Z.Body,{children:(0,F.jsxs)("div",{className:"row",children:[(0,F.jsxs)("div",{className:"col-12 mb-3",children:[(0,F.jsx)("label",{htmlFor:"nameMovie",children:"T\xean phim"}),(0,F.jsx)("input",{type:"text",className:"form-control",id:"nameMovie",name:"tenPhim",placeholder:"Nh\u1eadp t\xean phim",onChange:m.handleChange}),(0,F.jsx)("div",{id:"invalidName",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-12 mb-3",children:[(0,F.jsx)("label",{htmlFor:"trailer",children:"Trailer"}),(0,F.jsx)("input",{type:"text",className:"form-control",id:"trailer",name:"trailer",placeholder:"Nh\u1eadp trailer",onChange:m.handleChange}),(0,F.jsx)("div",{id:"invalidTrailer",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-12 mb-3",children:[(0,F.jsx)("label",{htmlFor:"desc",children:"M\xf4 T\u1ea3"}),(0,F.jsx)("textarea",{className:"form-control",id:"desc",name:"moTa",rows:3,placeholder:"Nh\u1eadp m\xf4 t\u1ea3",onChange:m.handleChange}),(0,F.jsx)("div",{id:"invalidDesc",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"date",children:"Ng\xe0y kh\u1edfi chi\u1ebfu"}),(0,F.jsxs)("div",{className:"input-group",children:[(0,F.jsx)("div",{className:"input-group-prepend",children:(0,F.jsx)("span",{className:"input-group-text",children:(0,F.jsx)("i",{className:"fa fa-calendar"})})}),(0,F.jsx)("input",{type:"date",name:"ngayKhoiChieu",id:"date",className:"form-control",placeholder:"Ng\xe0y c\xf4ng chi\u1ebfu",onChange:function(){var e=new Date(document.getElementById("date").value);console.log(M()(e).format("DD/MM/YYYY")),m.setFieldValue("ngayKhoiChieu",M()(e).format("DD/MM/YYYY"))}})]}),(0,F.jsx)("div",{id:"invalidDate",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"status",children:"T\xecnh tr\u1ea1ng"}),(0,F.jsxs)("select",{className:"custom-select d-block w-100",id:"status",onChange:function(e){"1"===e.target.value?(m.setFieldValue("dangChieu",!0),m.setFieldValue("sapChieu",!1)):"2"===e.target.value&&(m.setFieldValue("dangChieu",!1),m.setFieldValue("sapChieu",!0))},children:[(0,F.jsx)("option",{value:"0",children:"Ch\u1ecdn t\xecnh tr\u1ea1ng"}),(0,F.jsx)("option",{value:"1",children:"\u0110ang chi\u1ebfu"}),(0,F.jsx)("option",{value:"2",children:"S\u1eafp chi\u1ebfu"})]}),(0,F.jsx)("div",{id:"invalidStatus",className:"invalid-feedback"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"score",children:"\u0110i\u1ec3m \u0111\xe1nh gi\xe1"}),(0,F.jsx)("input",{type:"number",className:"form-control",id:"score",name:"danhGia",placeholder:"Nh\u1eadp \u0111i\u1ec3m \u0111\xe1nh gi\xe1",onChange:m.handleChange}),(0,F.jsx)("div",{id:"invalidScore",className:"invalid-form"})]}),(0,F.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,F.jsx)("label",{htmlFor:"hot",children:"Hot"}),(0,F.jsx)(y.Z,(0,j.Z)((0,j.Z)({onChange:m.handleChange},{inputProps:{"aria-label":"Checkbox demo"}}),{},{id:"hot",name:"hot",sx:{"& .MuiSvgIcon-root":{fontSize:28}}})),(0,F.jsx)("div",{id:"invalidHot",className:"invalid-feedback"})]}),(0,F.jsx)("div",{className:"col-sm-4 mb-3",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"img",children:"H\xecnh \u1ea3nh"}),(0,F.jsx)("br",{}),(0,F.jsx)("input",{type:"file",id:"img",name:"hinhAnh",onChange:function(e){var n=e.target.files[0];if("image/jpeg"===n.type||"image/jpg"===n.type||"image/png"===n.type||"image/gif"===n.type){var a=new FileReader;a.readAsDataURL(n),a.onload=function(e){d(e.target.result)},m.setFieldValue("hinhAnh",n)}},accept:"image/jpeg, image/png, image/gif, image/jpg"}),(0,F.jsx)("img",{className:"mt-2",width:100,src:o,alt:o})]})})]})}),(0,F.jsx)(g.Z.Footer,{children:(0,F.jsx)("div",{children:(0,F.jsx)("button",{type:"submit",className:"btn btn-warning",id:"btnAddMovie",children:"C\u1eadp nh\u1eadt"})})})]})})}function A(e){var n=e.movie;console.log("movie",n);var a=(0,l.useState)(!1),s=(0,i.Z)(a,2),t=s[0],o=s[1];return(0,F.jsxs)("tr",{className:"text-center mt-5 listMovie",children:[(0,F.jsx)("td",{children:n.maPhim}),(0,F.jsx)("td",{children:n.tenPhim}),(0,F.jsx)("td",{children:(0,F.jsx)("img",{className:"w-25",src:n.hinhAnh,alt:n.hinhAnh})}),(0,F.jsx)("td",{children:(0,F.jsx)("p",{className:"descMovie",children:n.moTa})}),(0,F.jsxs)("td",{className:"w-25",children:[(0,F.jsx)("button",{className:"btn btn-info mr-3 mt-1",onClick:function(){o(!0)},children:"Edit"}),(0,F.jsx)(T,{id:n.maPhim,showEditMovieModal:t,handleCloseEditMovieModal:function(){return o(!1)}}),(0,F.jsx)("button",{className:"btn btn-danger mt-1",children:"Delete"})]})]})}function Z(){var e=(0,s.v9)((function(e){return e.movieManagerReducer.data}));console.log(e);var n=(0,s.I0)();(0,l.useEffect)((function(){n((function(e){e(d()),t.Z.get("QuanLyPhim/LayDanhSachPhim?maNhom=GP01").then((function(n){e(r(n.data.content))})).catch((function(n){e(c(n)),console.log(n)}))}))}),[]);var a=(0,l.useState)(!1),o=(0,i.Z)(a,2),h=o[0],m=o[1];return(0,F.jsx)("div",{className:"container-fluid",children:(0,F.jsxs)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4",children:[(0,F.jsx)("h2",{className:"my-3",children:"Danh S\xe1ch Phim"}),(0,F.jsxs)("div",{className:"row",children:[(0,F.jsxs)("div",{className:"col-8",children:[(0,F.jsx)("button",{id:"btnAdd",type:"button",className:"btn btn-warning mb-3",onClick:function(){m(!0)},children:"Th\xeam Phim"}),(0,F.jsx)(w,{showAddMovieModal:h,handleCloseAddMovieModal:function(){return m(!1)}})]}),(0,F.jsx)("div",{className:"col-4",children:(0,F.jsxs)("div",{className:"form-group row",children:[(0,F.jsx)("label",{htmlFor:"tenPhim",className:" col-form-label",children:"T\xecm ki\u1ebfm"}),(0,F.jsx)("div",{className:"col-sm-9",children:(0,F.jsxs)("div",{className:"input-group",children:[(0,F.jsx)("input",{type:"text",className:"form-control",placeholder:"T\xean phim",id:"searchName"}),(0,F.jsx)("div",{className:"input-group-prepend",children:(0,F.jsx)("span",{className:"input-group-text",id:"btnTimNV",children:(0,F.jsx)("i",{className:"fa fa-search"})})})]})})]})})]}),(0,F.jsx)("div",{className:"table-responsive table-striped moviesTable",children:(0,F.jsxs)("table",{className:"table table-striped table-sm",children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{className:"bg-warning text-white text-center",children:[(0,F.jsx)("th",{children:"M\xe3"}),(0,F.jsx)("th",{children:"T\xean phim"}),(0,F.jsx)("th",{children:"H\xecnh \u1ea3nh"}),(0,F.jsx)("th",{children:"M\xf4 t\u1ea3"}),(0,F.jsx)("th",{children:"T\xf9y ch\u1ec9nh"})]})}),(0,F.jsx)("tbody",{id:"tbodyMovies",children:null===e||void 0===e?void 0:e.map((function(e,n){return(0,F.jsx)(A,{movie:e},n)}))})]})})]})})}}}]);
//# sourceMappingURL=174.2abbe6dc.chunk.js.map